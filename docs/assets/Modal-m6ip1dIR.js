import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./index-C4lZkr4h.js";import{s as t,b as a}from"./buildVariants-CfwgwYun.js";import{H as f}from"./Heading-arU6QW_P.js";import{P as p}from"./Portal-GQXdu2oJ.js";import{F as b}from"./FocusTrap-D7L6Nql6.js";import{C as y}from"./ClickOutside-Dk9E0MtN.js";const g=t.div(function(){return a({}).css({position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.35)",display:"grid",placeItems:"center",zIndex:50,animation:"ds-modal-backdrop-in .18s ease-out","@keyframes ds-modal-backdrop-in":{from:{opacity:0},to:{opacity:1}},"@media (prefers-reduced-motion: reduce)":{animation:"none"}}).end()}),v=t.div(function(){return a({}).css({position:"relative",width:"min(32rem, 90vw)",borderRadius:"var(--ds-radius-lg)",border:"1px solid var(--ds-color-border)",backgroundColor:"var(--ds-color-surface)",boxShadow:"var(--ds-shadow-md)",padding:"var(--ds-space-lg)",display:"grid",gap:"var(--ds-space-md)",animation:"ds-modal-panel-in .2s cubic-bezier(.2,.8,.2,1)",transformOrigin:"top center","@keyframes ds-modal-panel-in":{from:{opacity:0,transform:"translateY(10px) scale(0.98)"},to:{opacity:1,transform:"translateY(0) scale(1)"}},"@media (prefers-reduced-motion: reduce)":{animation:"none"}}).end()}),h=t.button(function(){return a({}).css({position:"absolute",top:"0.6rem",right:"0.6rem",width:"1.5rem",height:"1.5rem",borderRadius:"var(--ds-radius-sm)",border:"none",backgroundColor:"transparent",color:"var(--ds-color-text-muted)",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"1.15rem",lineHeight:1,cursor:"pointer",transition:"background-color .14s ease, color .14s ease","&:hover":{color:"var(--ds-color-text)",backgroundColor:"color-mix(in oklab, var(--ds-color-primary) 10%, transparent)"},"&:focus-visible":{outline:"none",boxShadow:"0 0 0 2px color-mix(in oklab, var(--ds-color-primary) 20%, transparent)"}}).end()});function x(e){const i=n.useRef(null),s=n.useRef(null),l=n.useId(),d=e.showCloseIcon??!0,m=d?s:void 0;return n.useEffect(function(){if(!e.open)return;function c(r){var u;r.key==="Escape"&&(e.closeOnEscape??!0)&&((u=i.current)!=null&&u.contains(document.activeElement))&&(r.preventDefault(),e.onClose())}return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}},[e.open,e.onClose,e.closeOnEscape]),e.open?o.jsx(p,{target:e.portalTarget,children:o.jsx(g,{children:o.jsx(y,{onClickOutside:e.onClose,children:o.jsx(b,{active:!0,initialFocusRef:m,children:o.jsxs(v,{"data-attr-name":"Modal",ref:i,className:e.className,role:"dialog","aria-modal":"true","aria-labelledby":e.title?l:void 0,tabIndex:-1,id:e.id,style:e.style,"aria-label":e["aria-label"],"aria-describedby":e["aria-describedby"],children:[d?o.jsx(h,{ref:s,type:"button","aria-label":"Close dialog",title:"Close",onClick:e.onClose,children:"Ã—"}):null,o.jsx(f,{id:e.title?l:void 0,level:3,children:e.title??"Dialog"}),o.jsx("div",{children:e.children})]})})})})}):null}x.__docgenInfo={description:"Organism component that renders the Modal primitive.",methods:[],displayName:"Modal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},title:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},closeOnEscape:{required:!1,tsType:{name:"boolean"},description:""},showCloseIcon:{required:!1,tsType:{name:"boolean"},description:""},portalTarget:{required:!1,tsType:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]},description:""}},composes:["HTMLAttributes"]};export{x as M};
