import{j as y}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-C4lZkr4h.js";import{s as F,b as h}from"./buildVariants-CfwgwYun.js";const T=F.div(function(){return h({}).css({minWidth:0}).end()});function b(e){return Array.from(e.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])")).filter(function(i){return!i.hasAttribute("disabled")&&i.getAttribute("aria-hidden")!=="true"})}function R(e){const r=s.useRef(null),i=s.useRef(null);return s.useEffect(function(){var f,d;if(!e.active)return;i.current=document.activeElement instanceof HTMLElement?document.activeElement:null;const o=r.current;if(o){const t=(f=e.initialFocusRef)==null?void 0:f.current,n=b(o);t?t.focus():n.length>0?(d=n[0])==null||d.focus():o.focus()}function l(t){if(t.key!=="Tab")return;const n=r.current;if(!n)return;const a=b(n);if(a.length===0){t.preventDefault(),n.focus();return}const u=a[0],c=a[a.length-1],m=document.activeElement;!u||!c||(t.shiftKey&&m===u?(t.preventDefault(),c.focus()):!t.shiftKey&&m===c&&(t.preventDefault(),u.focus()))}return document.addEventListener("keydown",l),function(){var n;document.removeEventListener("keydown",l),(e.returnFocus??!0)&&((n=i.current)==null||n.focus())}},[e.active,e.initialFocusRef,e.returnFocus]),y.jsx(T,{"data-attr-name":"FocusTrap",ref:r,className:e.className,id:e.id,role:e.role,style:e.style,tabIndex:e.tabIndex??-1,onKeyDown:e.onKeyDown,onFocus:e.onFocus,onBlur:e.onBlur,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],"aria-describedby":e["aria-describedby"],children:e.children})}R.__docgenInfo={description:"Utility component that renders the FocusTrap primitive.",methods:[],displayName:"FocusTrap",props:{active:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},initialFocusRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]}],raw:"RefObject<HTMLElement | null>"},description:""},returnFocus:{required:!1,tsType:{name:"boolean"},description:""}},composes:["HTMLAttributes"]};export{R as F};
