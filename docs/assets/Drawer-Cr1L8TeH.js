import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./index-C4lZkr4h.js";import{s,b as l}from"./buildVariants-CfwgwYun.js";import{H as p}from"./Heading-arU6QW_P.js";import{P as v}from"./Portal-GQXdu2oJ.js";import{F as h}from"./FocusTrap-D7L6Nql6.js";import{C as b}from"./ClickOutside-Dk9E0MtN.js";const g=s.div(function(t){return l(t).css({position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.28)",zIndex:40,animation:"ds-drawer-backdrop-in .18s ease-out","@keyframes ds-drawer-backdrop-in":{from:{opacity:0},to:{opacity:1}},"@media (prefers-reduced-motion: reduce)":{animation:"none"}}).variant("overlayMode",t.overlayMode??"viewport",{viewport:{position:"fixed"},container:{position:"absolute"}}).end()}),w=s.div(function(t){return l(t).css({position:"relative",top:0,height:"100vh",width:"min(22rem, 92vw)",border:"1px solid var(--ds-color-border)",backgroundColor:"var(--ds-color-surface)",boxShadow:"var(--ds-shadow-md)",zIndex:41,padding:"var(--ds-space-lg)",display:"grid",gap:"var(--ds-space-md)",alignContent:"start",willChange:"transform, opacity",animationTimingFunction:"cubic-bezier(.2,.8,.2,1)",animationDuration:".22s",animationFillMode:"both","@keyframes ds-drawer-in-right":{from:{opacity:0,transform:"translateX(18px)"},to:{opacity:1,transform:"translateX(0)"}},"@keyframes ds-drawer-in-left":{from:{opacity:0,transform:"translateX(-18px)"},to:{opacity:1,transform:"translateX(0)"}},"@media (prefers-reduced-motion: reduce)":{animation:"none"}}).variant("overlayMode",t.overlayMode??"viewport",{viewport:{position:"fixed",height:"100vh"},container:{position:"absolute",height:"100%"}}).variant("side",t.side??"right",{left:{left:0,animationName:"ds-drawer-in-left"},right:{right:0,animationName:"ds-drawer-in-right"}}).end()}),x=s.button(function(){return l({}).css({position:"absolute",top:"0.6rem",right:"0.6rem",width:"1.5rem",height:"1.5rem",borderRadius:"var(--ds-radius-sm)",border:"none",backgroundColor:"transparent",color:"var(--ds-color-text-muted)",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"1.15rem",lineHeight:1,cursor:"pointer",transition:"background-color .14s ease, color .14s ease","&:hover":{color:"var(--ds-color-text)",backgroundColor:"color-mix(in oklab, var(--ds-color-primary) 10%, transparent)"},"&:focus-visible":{outline:"none",boxShadow:"0 0 0 2px color-mix(in oklab, var(--ds-color-primary) 20%, transparent)"}}).end()});function C(e){const t=n.useRef(null),d=n.useRef(null),c=n.useId(),o=e.overlayMode??"viewport",u=e.showCloseIcon??!0,y=u?d:void 0;if(n.useEffect(function(){if(!e.open)return;function m(a){var f;a.key==="Escape"&&(e.closeOnEscape??!0)&&((f=t.current)!=null&&f.contains(document.activeElement))&&(a.preventDefault(),e.onClose())}return document.addEventListener("keydown",m),function(){document.removeEventListener("keydown",m)}},[e.open,e.closeOnEscape,e.onClose]),!e.open)return null;const i=r.jsx(g,{overlayMode:o,children:r.jsx(b,{onClickOutside:e.onClose,children:r.jsx(h,{active:!0,initialFocusRef:y,children:r.jsxs(w,{"data-attr-name":"Drawer",ref:t,className:e.className,overlayMode:o,side:e.side??"right",role:"dialog","aria-modal":"true","aria-labelledby":e.title?c:void 0,tabIndex:-1,id:e.id,style:e.style,"aria-label":e["aria-label"],"aria-describedby":e["aria-describedby"],children:[u?r.jsx(x,{ref:d,type:"button","aria-label":"Close drawer",title:"Close",onClick:e.onClose,children:"Ã—"}):null,e.title?r.jsx(p,{id:c,level:4,children:e.title}):null,e.children]})})})});return o==="container"?e.portalTarget?r.jsx(v,{target:e.portalTarget,children:i}):i:r.jsx(v,{target:e.portalTarget,children:i})}C.__docgenInfo={description:"Organism component that renders the Drawer primitive.",methods:[],displayName:"Drawer",props:{open:{required:!0,tsType:{name:"boolean"},description:""},side:{required:!1,tsType:{name:"union",raw:'"left" | "right"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"right"'}]},description:""},title:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},closeOnEscape:{required:!1,tsType:{name:"boolean"},description:""},showCloseIcon:{required:!1,tsType:{name:"boolean"},description:""},portalTarget:{required:!1,tsType:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]},description:""},overlayMode:{required:!1,tsType:{name:"union",raw:'"viewport" | "container"',elements:[{name:"literal",value:'"viewport"'},{name:"literal",value:'"container"'}]},description:""}},composes:["HTMLAttributes"]};export{C as D};
