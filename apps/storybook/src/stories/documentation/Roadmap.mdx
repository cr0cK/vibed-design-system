import { Meta } from "@storybook/blocks";

<Meta title="Documentation/Roadmap" parameters={{ options: { showPanel: false } }} />

# Design System Roadmap

Last updated: 2026-02-17

Status note:

- Phases 1 to 5 are completed.

## Objective

Deliver a pragmatic, composable React design system with strong accessibility, clear APIs, and production-ready docs.

## Phase 1: Core System Hardening

Status: Completed  
Target: Week of 2026-02-16

Scope:

- Foundations/layout: `Grid`, `Container`, `Spacer`, `Divider`, `Heading`, `Link`
- Controls: `ButtonGroup`, `Checkbox`, `Radio`, `Switch`
- Inputs/forms: `Textarea`, `Select`, `FormControl`, `HelperText`
- Feedback: `Badge`, `Alert`, `Spinner`, `Skeleton`
- Navigation: `Tabs`, `Breadcrumb`, `Pagination`
- Overlays: `Modal`, `Drawer`, `Tooltip`, `Popover`

Acceptance criteria:

1. `pnpm typecheck` passes at workspace level.
2. `pnpm build` succeeds for `@vibed/design-system`.
3. Storybook stories exist for each Phase 1 family.
4. Components follow patterns:
   - explicit props interfaces
   - no prop destructuring in function signature
   - styles declared outside renderer via `styled.*`
   - style logic composed with `buildVariants(props)`
5. Basic accessibility in place for interactive components (roles, labels, focus states).

## Phase 1.1: Accessibility + Interaction Pass

Status: Completed  
Target: Week of 2026-02-23

Scope:

- Tabs keyboard behavior: arrow/home/end.
- Modal/drawer keyboard close and focus handling.
- Popover/tooltip keyboard triggers and escape behavior.
- Form hint/error wiring (`aria-invalid`, `aria-describedby`).

Acceptance criteria:

1. Keyboard flows verified for overlays/tabs.
2. Screen-reader labels and control relationships are present.
3. No console a11y warnings in story examples.

## Phase 2: Advanced Inputs + Data

Status: Completed  
Target: Weeks of 2026-03-02 and 2026-03-09

Scope:

- Inputs: `NumberInput`, `Slider`, `RangeSlider`, `DatePicker`, `DateRangePicker`
- Selection: `Combobox`, `Autocomplete`, `MultiSelect`, `CommandPalette`
- Data display: `Table`, `DataList`, `Stat`, `Avatar`, `AvatarGroup`, `Tag`, `Progress`
- Feedback: `Toast`, `EmptyState`

Acceptance criteria:

1. Every new component has at least one story with real composition usage.
2. Controlled + uncontrolled API behavior documented where relevant.
3. State-heavy components include focused interaction tests.

## Phase 3: Navigation + App Patterns

Status: Completed  
Target: Weeks of 2026-03-16 and 2026-03-23

Scope:

- Navigation: `Menu`, `DropdownMenu`, `Navbar`, `Sidebar`, `StepIndicator`
- Overlays advanced: `Dialog` variants, `Sheet`
- App composition: `PageHeader`, `FilterBar`, `SearchBar`, `SettingsPanel`
- Utilities: `Portal`, `VisuallyHidden`, `FocusTrap`, `ClickOutside`, transition helpers

Acceptance criteria:

1. Pattern components compose existing atoms/molecules first.
2. APIs stay minimal and consistent with existing naming.
3. Storybook showcases realistic end-to-end UI flows.

## Phase 4: Quality + Distribution

Status: Completed  
Target: Weeks of 2026-03-30 and 2026-04-06

Scope:

- Expand interaction and accessibility tests.
- Finalize token/theming docs and examples.
- Add release/versioning workflow polish.
- Tighten changelog and migration guidance.

Acceptance criteria:

1. CI validates typecheck/build/storybook build.
2. Publish flow is repeatable and documented.
3. Consumers can adopt components with clear migration notes.

## Phase 5: First-Class System Maturity

Status: Completed  
Target: Weeks of 2026-04-13 and 2026-04-20

Objective:

Move from a strong component library to a first-class design system with production-grade accessibility, reliability, and governance.

Scope:

- Accessibility hardening:
  - overlay parity (`Modal`, `Drawer`, `Sheet`, `Popover`, `CommandPalette`) with shared focus/outside-click/escape patterns
  - keyboard and screen-reader behavior audit across interactive components
- Testing and quality gates:
  - interaction tests for state-heavy components (`Select`, `Combobox`, `Autocomplete`, `MultiSelect`, overlays)
  - visual regression snapshots for theme + control-size permutations
- API and consistency:
  - standardized DOM props passthrough policy (forward attrs or narrow interfaces)
  - align naming and controlled/uncontrolled behavior docs across form primitives
- Theming and token robustness:
  - semantic token tiers (`surface`, `interactive`, `feedback`, `text`) with guidance and usage contracts
  - dark/light parity checks and contrast validation for all shipped themes
- Distribution and governance:
  - deprecation policy + compatibility matrix in docs
  - component lifecycle states (`alpha`, `beta`, `stable`, `deprecated`) surfaced in Storybook

Acceptance criteria:

1. Critical interactive components have automated interaction + a11y tests in CI.
2. Overlay components share a consistent behavior contract and utility composition.
3. API consistency rules are documented and enforced for new components.
4. Theme tokens pass contrast checks for key UI states (default/hover/focus/disabled/error).
5. Storybook clearly communicates component maturity and migration/deprecation paths.

Delivered in this phase:

- Overlay parity implemented using shared utilities (`Portal`, `FocusTrap`, `ClickOutside`) across `Modal`, `Drawer`, `Sheet`, `Popover`, and `CommandPalette`.
- Consistent close behavior for overlays:
  - outside click close
  - `Escape` close
  - focus trap + focus return on close
- Overlay mounting strategy aligned:
  - viewport overlays mount through `Portal`
  - container overlays supported where needed (`Drawer`, `Sheet`) via `overlayMode`
- DOM attribute passthrough improved in shared utilities for better host integration.
- Storybook stories updated to demonstrate overlay behavior variants.
- Playwright verification completed on built Storybook (`Modal`, `Drawer`, `Sheet`, `Popover`, `CommandPalette`) for open/close/focus interactions.
- Automated Playwright E2E suite added for Phase 5 critical interactions and wired into CI.

Carry-over to next phases:

- Expand CI automation from current critical overlay/select flows to full state-heavy component matrix with a11y assertions.

## Phase 6: Adoption and Scale

Status: Planned  
Target: Weeks of 2026-04-27 and 2026-05-04

Scope:

- Provide starter templates and reference app integrations.
- Add codemod support for common API migrations.
- Add telemetry-ready examples (optional instrumentation hooks).
- Publish an adoption playbook for teams (rollout strategy, QA checklist, contribution workflow).

Acceptance criteria:

1. New consumers can bootstrap with documented templates.
2. Breaking migrations have codemod or script-assisted paths.
3. Adoption playbook is available in Storybook docs.

## Phase 7: Performance and Runtime Guarantees

Status: Planned  
Target: Weeks of 2026-05-11 and 2026-05-18

Scope:

- Establish component performance budgets for render cost and interaction latency.
- Add bundle-size budgets and package-level tracking for `@vibed/design-system`.
- Reduce avoidable re-renders in stateful components (`Table`, `MultiSelect`, `Combobox`, overlays).
- Add runtime safety checks in development mode for invalid prop combinations.

Acceptance criteria:

1. CI enforces bundle-size thresholds with regression alerts.
2. Interaction-heavy stories meet agreed latency budgets on baseline hardware.
3. Perf-sensitive components include memoization and stable callback patterns where needed.
4. Runtime invariant warnings exist for known invalid API combinations.

## Phase 8: Token Pipeline and Platform Readiness

Status: Planned  
Target: Weeks of 2026-05-25 and 2026-06-01

Scope:

- Add token export pipeline for multiple targets (CSS vars, JSON, optional native/mobile format).
- Define token versioning strategy and compatibility rules.
- Provide theme validation tooling (contrast checks + missing token detection).
- Add integration guides for app frameworks and SSR environments.

Acceptance criteria:

1. Token artifacts are generated from a single source of truth.
2. Theme validation runs in CI and blocks invalid token sets.
3. Consumers can adopt tokens independently from components.
4. SSR/framework integration docs are published in Storybook.

## Working rules (all phases)

1. Prefer composability over large all-in-one components.
2. Keep state slices small and local (`zustand` + context only where needed).
3. Add docs/stories in the same PR as component changes.
4. Keep visual language consistent with tokenized values.
