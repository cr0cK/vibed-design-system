import { Meta } from "@storybook/blocks";

<Meta title="Documentation/2. Architecture" parameters={{ options: { showPanel: false } }} />

# Architecture

## Initial guidance baseline

The implementation follows these original constraints:

- latest React runtime
- CSS-in-JS with `@emotion/styled` and `@productive-codebases/build-variants`
- explicit props interfaces for each component
- no prop destructuring in function signatures
- context for cross-tree concerns, no unnecessary prop drilling
- pragmatic atom/molecule/organism layering
- lightweight stores (`zustand`) for local complex state

## Workspace

- `packages/design-system`: reusable UI library
- `apps/storybook`: showcase and component documentation

## Layering

- Atoms: small reusable primitives with focused APIs
- Molecules: lightweight composition of atoms
- Organisms: feature-level composition with state/context integration

## Source layout

- `src/atoms`
- `src/molecules`
- `src/organisms`
- `src/utilities`
- `src/context`
- `src/stores`
- `src/theme`
- `src/utils`

## Key decisions

- React + TypeScript only
- CSS-in-JS through `@emotion/styled`
- Variants declared via `buildVariants(props).css().variant().end()`
- Shared concerns via Context when appropriate
- Local UI state with small Zustand stores
- Overlay behavior standardized via utility composition (`Portal`, `FocusTrap`, `ClickOutside`)
- Storybook is the public contract and verification surface

## Engineering constraints

- no styles created inside render functions
- one shared `buildVariants` factory
- deterministic variants with string unions
- controlled/uncontrolled semantics documented in stories
- accessibility behavior validated through keyboard + E2E flows
